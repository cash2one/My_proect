{% extends 'base.html' %}
{% load staticfiles %}

{% block content %}
<div id="page-wrapper">

     <div class="container-fluid">
         <button type="button" class="btn btn-primary btn-default creat_idc" data-toggle="modal" data-target="#create_idc">新增IDC</button>

        <!--新增idc的模态框 -->
        <div class="modal fade" id="create_idc" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">新增IDC</h4>
              </div>
              <div class="modal-body">
                <form  class="form-horizontal"  id="addform">
                  <div class="form-group">
                    <label for="name" class="col-sm-2 control-label">IDC名称</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="name" name="name">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="address" class="col-sm-2 control-label">IDC地址</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="address" name="address">
                    </div>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="save_idc">保存</button>
              </div>
            </div>
          </div>
        </div>


        <!-- 编辑idc的模态框 -->
        <div class="modal fade" id='updateidc' tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">更新IDC信息</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">

                            <input type="hidden" id="update_id">

                              <div class="form-group">
                                <label for="name" class="col-sm-2 control-label">IDC名称</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control" id="update_name" name="name" value="readonly" readonly>
                                </div>
                              </div>

                              <div class="form-group">
                                <label for="address" class="col-sm-2 control-label">IDC地址</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control" id="update_address" name="address">
                                </div>
                              </div>

                            </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-primary" id="update">确认更新</button>
                    </div>
                    </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default" style='margin-top:20px;'>
                    <div class="panel-body">
                        <div class="dataTable_wrapper">
                            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                    <tr>
                                        <th>IDC名称</th>
                                        <th>IDC地址</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>

                                <tbody>
                                {% for idc in data_list %}
                                    <tr>
                                        <td>{{ idc.name }}</td>
                                        <td>{{ idc.address }}</td>
                                        <td>
                                            <span class="label label-primary hover" data-id='6'><a role="button" style='color:white' onclick="editidc({{ idc.id }})" data-toggle="modal" data-target="#updateidc">编辑</a></span>
                                            <span class="label label-primary hover deleteidc"><a role="button" href="/deleteidc/?id={{ idc.id }}" style="color:white">删除</a></span>
                                        </td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
<div class="modal fade" id='addIdcModal'>
<div class="modal-dialog">
<div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h4 class="modal-title">Modal title</h4>
  </div>
  <div class="modal-body">
    <p>One fine body&hellip;</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
    <button type="button" class="btn btn-primary">Save changes</button>
  </div>
</div>
</div>
</div>
        </div>

     </div>
 </div>

<!--分页-->
{% include 'pagination.html' %}

{% endblock %}

{% block idcactive %}
    class = 'active'
{% endblock %}



{% block custom_js %}
<script src="{% static 'extra/js/idc.js' %}"></script>
{% endblock %}